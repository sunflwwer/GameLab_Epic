# 적 체력바 수동 설정 가이드 (프리팹에 직접 연결)

## 🎯 간단 요약

적 프리팹에 Canvas를 만들고 EnemyHealthBar 스크립트를 연결하는 방법입니다.

---

## 📋 설정 순서 (5분이면 완료!)

### 1단계: 적 프리팹 열기
1. **Project** 창에서 적 프리팹 더블클릭
2. 프리팹 편집 모드 진입

---

### 2단계: Canvas 생성

1. **적 오브젝트에 자식으로 빈 오브젝트 생성**
   - 적 오브젝트 우클릭 → Create Empty
   - 이름: `HealthBarCanvas`

2. **Canvas 컴포넌트 추가**
   - HealthBarCanvas 선택
   - Add Component → Canvas
   - **Inspector에서 설정:**
     ```
     Render Mode: World Space  ← 중요!
     ```

3. **Canvas 크기 설정**
   - RectTransform:
     ```
     Width: 100
     Height: 20
     ```
   - Transform:
     ```
     Scale: X: 0.01, Y: 0.01, Z: 0.01
     ```

4. **Canvas Scaler 추가 (선택사항)**
   - Add Component → Canvas Scaler

---

### 3단계: Background 이미지 생성

1. **HealthBarCanvas에 자식으로 Image 생성**
   - HealthBarCanvas 우클릭 → UI → Image
   - 이름: `Background`

2. **Background 설정**
   - RectTransform:
     ```
     Anchor Preset: 우하단의 Stretch-Stretch 클릭
     Left: 0, Right: 0, Top: 0, Bottom: 0
     ```
   - Image:
     ```
     Color: 검은색 (#000000) 또는 어두운 회색
     ```

---

### 4단계: Fill 이미지 생성

1. **Background에 자식으로 Image 생성**
   - Background 우클릭 → UI → Image
   - 이름: `Fill`

2. **Fill 설정**
   - RectTransform:
     ```
     Anchor Preset: Stretch-Stretch
     Left: 0, Right: 0, Top: 0, Bottom: 0
     ```
   - Image:
     ```
     Color: 초록색 (#00FF00)
     Image Type: Filled        ← 중요!
     Fill Method: Horizontal
     Fill Origin: Left
     Fill Amount: 1
     ```

---

### 5단계: EnemyHealthBar 스크립트 추가

1. **HealthBarCanvas 선택**
2. **Add Component → EnemyHealthBar**
3. **Inspector에서 연결:**
   ```
   Enemy Health: 부모의 EnemyHealth2D 드래그 앤 드롭
   Fill Image: Fill 오브젝트의 Image 컴포넌트 드래그
   Bar Container: Background 오브젝트 드래그
   ```

4. **설정 조정 (선택사항):**
   ```
   Offset: (0, 1.5, 0)  ← 적 위 높이
   Hide When Full: ✅
   Always Face Camera: ✅
   
   Colors:
   - Full Color: 초록 (50% 이상)
   - Half Color: 노랑 (25~50%)
   - Low Color: 빨강 (25% 미만)
   ```

---

### 6단계: 저장 및 완료!

1. **Ctrl+S** 또는 **File → Save** 
2. 프리팹 편집 모드 종료
3. **완료!** 🎉

---

## 📐 계층 구조 (최종)

```
적 오브젝트
└─ HealthBarCanvas (Canvas, EnemyHealthBar)
   └─ Background (Image - 검은색)
      └─ Fill (Image - 초록색, Filled)
```

---

## 🎨 빠른 설정값

### Canvas
- Render Mode: **World Space**
- Width: **100**, Height: **20**
- Scale: **0.01, 0.01, 0.01**

### Background Image
- Anchor: **Stretch-Stretch**
- Color: **검은색 (#000000)**

### Fill Image
- Anchor: **Stretch-Stretch**
- Color: **초록색 (#00FF00)**
- Type: **Filled**
- Fill Method: **Horizontal**

### EnemyHealthBar
- Offset: **(0, 1.5, 0)**
- Hide When Full: **✅**
- Always Face Camera: **✅**

---

## ✅ 체크리스트

- [ ] Canvas 생성 및 World Space 설정
- [ ] Canvas 크기 100x20, Scale 0.01
- [ ] Background 이미지 (검은색)
- [ ] Fill 이미지 (초록색, Filled)
- [ ] EnemyHealthBar 스크립트 추가
- [ ] Enemy Health 연결
- [ ] Fill Image 연결
- [ ] Bar Container 연결
- [ ] Ctrl+S 저장

---

## 💡 팁

### 한 프리팹에만 설정하면:
- 씬의 모든 해당 프리팹 인스턴스에 자동 적용됩니다!
- 나중에 프리팹만 수정하면 모든 적에 반영됩니다!

### 여러 적 프리팹이 있다면:
- 첫 번째 적 프리팹에 완성
- HealthBarCanvas를 복사
- 다른 적 프리팹에 붙여넣기
- Enemy Health만 다시 연결

---

## 🔧 문제 해결

### 체력바가 안 보여요
- Canvas가 World Space인지 확인
- Fill Image가 Filled로 설정되었는지 확인
- Main Camera 태그 확인

### 체력바가 업데이트 안 돼요
- Enemy Health가 연결되었는지 확인
- Fill Image가 연결되었는지 확인
- EnemyHealth2D에 CurrentHealth, MaxHealth 프로퍼티 있는지 확인

### 체력바가 너무 커요/작아요
- Canvas Scale 조정 (0.01 권장)
- Offset 조정

---

## 🎉 완료!

이제 적을 공격하면 체력바가 줄어들고, 색상이 변합니다!

**Enjoy! 🎮✨**

